# HTTP第三部分：HTTP 识别、认证与安全

## 11 客户端识别与cookie
* 胖URL：包含用户特定状态信息的URL。
* cookie分为会话cookie（没有时间戳，退出浏览器时删除）和持久cookie（有过期时间）
* 对于带cookie的响应，不缓存其文本，只缓存其图片，并且强制每次都验证。

## 12 基本认证
* 以base64编码传输用户名和密码
* 服务器质询时提供对应的（安全域的）域名

## 13 摘要认证
* 服务器和客户端都有密码相关信息，客户端发送一个“摘要”，服务器用它与自己生成的“摘要”相匹配。
* 摘要使用单向函数生成，（单向函数：可以从x求出y，不能从y求出x）
* 使用随机数防止重放攻击（将随机数附加到摘要中）
* 摘要认证语法
```
realm 请求对应的安全域
nonce 服务器当前随机数
qop 报文保护策略
nc 请求计数
cnonce 客户端随机数
response 客户端摘要
```
* 摘要计算
	- MD5（每次请求运行）和MD5-sess（只在第一次握手时运行） 算法
	- 每个算法都包括两个函数H(d)和KD(s,d)，s为密码，d为数据
* 预授权（多种方式）-减少质询，缩短时间
	- 服务器在授权成功（Authentication-Info）首部中发送下一个随机数
	- 服务器允许在有限次数或时间内重用同一个随机数
	- 客户端和服务器使用时间同步的随机数生成算法
* 对称认证-客户端对服务器进行认证
	- 只要提供qop指令，就要执行对称认证。
	- 代理可修改URI，一旦修改，摘要认证会被破坏（摘要认证会检查URI的完整性）
* 包含认证信息的响应缓存不能提供给其他请求


## 14 安全HTTP--SSL
* 密钥是密码（编码方案）的参数
* https 连接443端口
* SSL握手
* 虚拟主机与安全证书
* 代理与SSL